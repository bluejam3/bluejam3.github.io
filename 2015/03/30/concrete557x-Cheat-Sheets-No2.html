<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>concrete5[5.7.x] Cheat Sheets No.2 - </title>

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="concrete5[5.7.x] Cheat Sheets No.2">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="concrete5[5.7.x] Cheat Sheets No.2">
    <meta property="og:description" content="">

    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <link href="/apple-touch-icon-precomposed.png" rel="apple-touch-icon">

    <link rel="stylesheet" type="text/css" href="https://bluejam3.github.io/themes/uno/assets/css/uno.css?v=1.0.0" />

    <link rel="canonical" href="https://bluejam3.github.io/2015/03/30/concrete557x-Cheat-Sheets-No2.html" />
    
    <meta property="og:site_name" content="" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="concrete5[5.7.x] Cheat Sheets No.2" />
    <meta property="og:description" content="出典元 : http://www.webli.us/cheatsheet/doku.php Working With Users プログラムユーザ属性を追加 Add a User Attribute Programmatically &amp;lt;?php   Loader::model(&#x27;user_attributes&#x27;);   //add boolean type user attribute   $boolt = AttributeType::getByHandle(&#x27;boolean&#x27;);   $attributeHandle=UserAttributeKey::getByHandle(&#x27;attribute_handle&#x27;);   if( !is_object(..." />
    <meta property="og:url" content="https://bluejam3.github.io/2015/03/30/concrete557x-Cheat-Sheets-No2.html" />
    <meta property="article:published_time" content="2015-03-29T15:00:00.000Z" />
    <meta property="article:modified_time" content="2015-03-30T11:48:57.640Z" />
    <meta property="article:tag" content="concrete5" />
    <meta property="article:tag" content="Cheat Sheets" />
    <meta property="article:tag" content="日本語訳" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="concrete5[5.7.x] Cheat Sheets No.2" />
    <meta name="twitter:description" content="出典元 : http://www.webli.us/cheatsheet/doku.php Working With Users プログラムユーザ属性を追加 Add a User Attribute Programmatically &amp;lt;?php   Loader::model(&#x27;user_attributes&#x27;);   //add boolean type user attribute   $boolt = AttributeType::getByHandle(&#x27;boolean&#x27;);   $attributeHandle=UserAttributeKey::getByHandle(&#x27;attribute_handle&#x27;);   if( !is_object(..." />
    <meta name="twitter:url" content="https://bluejam3.github.io/2015/03/30/concrete557x-Cheat-Sheets-No2.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "",
    "author": {
        "@type": "Person",
        "name": "bluejam",
        "image": "https://avatars.githubusercontent.com/u/9050733?v=3",
        "url": "undefined/author/undefined",
        "sameAs": ""
    },
    "headline": "concrete5[5.7.x] Cheat Sheets No.2",
    "url": "https://bluejam3.github.io/2015/03/30/concrete557x-Cheat-Sheets-No2.html",
    "datePublished": "2015-03-29T15:00:00.000Z",
    "dateModified": "2015-03-30T11:48:57.640Z",
    "keywords": "concrete5, Cheat Sheets, 日本語訳",
    "description": "出典元 : http://www.webli.us/cheatsheet/doku.php Working With Users プログラムユーザ属性を追加 Add a User Attribute Programmatically &amp;lt;?php   Loader::model(&#x27;user_attributes&#x27;);   //add boolean type user attribute   $boolt = AttributeType::getByHandle(&#x27;boolean&#x27;);   $attributeHandle=UserAttributeKey::getByHandle(&#x27;attribute_handle&#x27;);   if( !is_object(..."
}
    </script>

    <meta name="generator" content="Ghost ?" />
    <link rel="alternate" type="application/rss+xml" title="" href="https://bluejam3.github.io/rss" />

</head>
<body class="post-template tag-undefined tag-undefined tag-undefined no-js">

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    <header class="panel-cover panel-cover--collapsed " >
      <div class="panel-main">
    
        <div class="panel-main__inner panel-inverted">
        <div class="panel-main__content">
    
            <h1 class="panel-cover__title panel-title"><a href="https://bluejam3.github.io" title="link to homepage for "></a></h1>
            <hr class="panel-cover__divider" />
            <p class="panel-cover__description"></p>
            <hr class="panel-cover__divider panel-cover__divider--secondary" />
    
            <div class="navigation-wrapper">
    
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="https://bluejam3.github.io/#blog" title="link to  blog" class="blog-button">Blog</a></li>
                </ul>
              </nav>
    
              
              
              <nav class="cover-navigation navigation--social">
                <ul class="navigation">
              
              
              
              
              
              
              
              
              
              
                </ul>
              </nav>
              
    
            </div>
    
          </div>
    
        </div>
    
        <div class="panel-cover--overlay"></div>
      </div>
    </header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            

  <article class="post-container post-container--single">

    <header class="post-header">
      <div class="post-meta">
        <time datetime="30 Mar 2015" class="post-meta__date date">30 Mar 2015</time> &#8226; <span class="post-meta__tags tags">on <a href="https://bluejam3.github.io/tag/concrete5">concrete5</a>, <a href="https://bluejam3.github.io/tag/Cheat Sheets">Cheat Sheets</a>, <a href="https://bluejam3.github.io/tag/日本語訳">日本語訳</a></span>
        <span class="post-meta__author author"><img src="https://avatars.githubusercontent.com/u/9050733?v=3" alt="profile image for bluejam" class="avatar post-meta__avatar" /> by bluejam</span>
      </div>
      <h1 class="post-title">concrete5[5.7.x] Cheat Sheets No.2</h1>
    </header>

    <section class="post tag-undefined tag-undefined tag-undefined">
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>出典元 : <a href="http://www.webli.us/cheatsheet/doku.php" class="bare">http://www.webli.us/cheatsheet/doku.php</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_users">Working With Users</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong"><strong>プログラムユーザ属性を追加</strong></h4>

</div>
<div class="sect3">
<h4 id="_add_a_user_attribute_programmatically">Add a User Attribute Programmatically</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  Loader::model('user_attributes');
  //add boolean type user attribute
  $boolt = AttributeType::getByHandle('boolean');
  $attributeHandle=UserAttributeKey::getByHandle('attribute_handle');

  if( !is_object($attributeHandle) )
    UserAttributeKey::add($boolt, array('akHandle' =&gt; 'atribute_handle', 'akName' =&gt; t('Attribute name'), 'akIsSearchable' =&gt; false, 'uakProfileEdit' =&gt; false, 'uakRegisterEdit' =&gt; false, 'akCheckedByDefault' =&gt; false));
}
?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_2"><strong>プログラムユーザー属性を削除</strong></h4>

</div>
<div class="sect3">
<h4 id="_delete_user_attribute_programmatically">Delete User Attribute Programmatically</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  Loader::model('user_attributes');
  $attributeHandle = UserAttributeKey::getByHandle('atribute_handle');
   if( is_object($attributeHandle) )
     $attributeHandle-&gt;delete();
}
?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_in_strong"><strong>個人記録されたInのユーザー属性を取得する</strong></h4>

</div>
<div class="sect3">
<h4 id="_get_a_user_attribute_for_person_logged_in">Get a User Attribute for Person Logged In</h4>
<div class="listingblock">
<div class="content">
<pre>&lt;?php
  $u = new User();
  if($u-&gt;isLoggedIn()) {
    $ui = UserInfo::getByID($u-&gt;getUserID());
    echo $ui-&gt;getAttribute('attribute_name');
}
?&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_3"><strong>個人記録された中のユーザー属性を設定</strong></h4>

</div>
<div class="sect3">
<h4 id="_set_a_user_attribute_for_person_logged_in">Set a User Attribute for Person Logged In</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $u = new user();
  $ui = UserInfo::getByID($u-&gt;getUserID());
  $ui-&gt;setAttribute('attributenName', 'value');
?&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_4"><strong>ユーザー属性を削除</strong></h4>
<div class="sect4">
<h5 id="_delete_a_user_attribute">Delete a User Attribute</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  Loader::model('user_attributes');
  $attributeKey = UserAttributeKey::getByHandle('user_attribute_name');
  if( is_object($attributeKey) )
    $attributeKey-&gt;delete();
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_5"><strong>表示/ユーザ選択]属性からオプションを取得</strong></h4>
<div class="sect4">
<h5 id="_display_get_options_from_a_user_select_attribute">Display/Get Options From a User Select Attribute</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  Loader::model('attribute/type');
  Loader::model('attribute/categories/user');

  $ak = UserAttributeKey::getByHandle('project_name');
  $sa = new SelectAttributeTypeController(AttributeType::getByHandle('select'));
  $sa-&gt;setAttributeKey($ak);
  $values = $sa-&gt;getOptions();

  foreach ($values as $v) {
    echo $v-&gt;value;
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_6"><strong>グループにユーザーを追加</strong></h4>
<div class="sect4">
<h5 id="_add_a_user_to_a_group">Add a User To a Group</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $u = new User();
  $u-&gt;getByUserID($uID);
  $groupName = Group::getByName('Name_Of_Your_Group');
  $u-&gt;enterGroup($groupName);
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_7"><strong>すべてのユーザーグループ名を取得</strong></h4>
<div class="sect4">
<h5 id="_get_all_user_group_names">Get All User Group Names</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
Loader::model('search/group');

$gl = new GroupSearch();
$gResults = $gl-&gt;getPage();

foreach ($gResults as $g) {
  echo  $g['gName'];
}
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_8"><strong>ユーザー名を表示</strong></h4>
<div class="sect4">
<h5 id="_display_a_users_name">Display a Users Name</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $u = new User();
  echo $u-&gt;getUserName();
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_9"><strong>ログインした場合の背景位置を調整</strong></h4>
<div class="sect4">
<h5 id="_if_logged_in_adjust_background_position">If Logged in Adjust Background Position</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl"> &lt;?php
      $u = new User();

      if ($u-&gt;isLoggedIn()) { ?&gt;
        &lt;style type="text/css"&gt;
        body { background-position: 0px 49px; }
        &lt;/style&gt;
    &lt;?php } ?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_10"><strong>ユーザーが、ログインしている場合</strong></h4>
<div class="sect4">
<h5 id="_if_a_user_is_logged_in_do_something">If a User is Logged In Do Something</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $u = new User();
  if($u-&gt;isLoggedIn()) {
    echo 'Hello '.$u-&gt;getUserName();
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_11"><strong>スーパーユーザ及び管理者グループがログインしている場合</strong></h4>
<div class="sect4">
<h5 id="_if_logged_in_user_is_admin_do_something">If Logged in User is Admin Do Something</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $u = new user();
  $g = Group::getByName('Administrators');

  if ($u-&gt;inGroup($g)||$u-&gt;isSuperUser()) {
    //do something here
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_files_and_sets">Working With Files and Sets</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_12"><strong>ファイルへのパスを取得する</strong></h4>
<div class="sect4">
<h5 id="_get_path_to_file">Get Path to File</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $f = File::getByID(FILE_ID);
  $fv = $f-&gt;getApprovedVersion();
  $path = $fv-&gt;getRelativePath();
?&gt;
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_13"><strong>セット名ファイルゲット</strong></h4>
<div class="sect4">
<h5 id="_get_file_set_names">Get File Set Names</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">(in view.php)
&lt;?php
  $fileSets = FileSet::getMySets();
  foreach ($fileSets as $fs) {
    echo $fs-&gt;getFileSetName();
  }
?&gt;

$fs-&gt;getFileSetID()
$fs-&gt;getFileSetName()
$fs-&gt;getFileSetType()

(in controller.php)

&lt;?php
namespace
use FileSet;
use FileList;

  $fileSets = FileSet::getMySets();
  foreach ($fileSets as $fs) {
   $filesets('id' =&gt; $fs-&gt;getFileSetID(), 'name' =&gt; $fs-&gt;getFileSetName());
 }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_14"><strong>ファイルセットを追加</strong></h4>
<div class="sect4">
<h5 id="_add_a_file_set">Add a File Set</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $fs = FileSet::createAndGetSet('FILESET_NAME', FileSet::TYPE_PUBLIC, $uID = false);
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_15"><strong>ファイルの属性値を取得</strong></h4>
<div class="sect4">
<h5 id="_get_file_attribute_value">Get File Attribute Value</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $f = File::getByID(FILE ID NUMBER);
  echo $f-&gt;getAttribute('Attrubute_name');
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_16"><strong>ファイル属性を追加</strong></h4>
<div class="sect4">
<h5 id="_add_a_file_attribute">Add a File Attribute</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  // add file attribute programmatically (text)
  Loader::model('file_attributes');
  $textt = AttributeType::getByHandle('text');
  $attribute=FileAttributeKey::getByHandle('attribute_handle');

  if( !is_object($attribute) )
    FileAttributeKey::add($textt, array('akHandle' =&gt; 'attribut_handle', 'akName' =&gt; t('Atribute Name')));


  // when uploading with a form
  function action_file_upload()	{
    Loader::library("file/importer");
    $fi = new FileImporter();
    $newFile = $fi-&gt;import($_FILES['fileName']['tmp_name'],
    $_FILES['fileName']['name']);

   // add attriubute
   if($newFile instanceof FileVersion) {
     $f = $newFile-&gt;getFile();
     $fv = $f-&gt;getApprovedVersion();
     $fv-&gt;setAttribute('ATTRIBUTE_NAME', 'VALUE');
   }
}
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_17"><strong>表示/ファイルセットからファイル情報を見る</strong></h4>
<div class="sect4">
<h5 id="_display_get_file_info_from_file_sets">Display / Get File Info from File Sets</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">(in view.php)
&lt;?php
  $fs = FileSet::getByName('Your File Set');
  $fl = new FileList();
  $fl-&gt;filterBySet($fs);
  $fl-&gt;sortBy('fsDisplayOrder', 'asc');
  $files = $fl-&gt;get();

  foreach($files as $f) {
    echo $f-&gt;getFileName();
    echo $f-&gt;getTitle();
    echo $f-&gt;getAttribute("width");
    echo $f-&gt;getDownloadURL();
    echo $f-&gt;getRelativePath();
    echo $f-&gt;getDescription();
    echo $f-&gt;getAttribute('attribute_name');
  }
?&gt;

(in controller.php)
&lt;?php
namespace
use FileSet;
use FileList;

  $fs = FileSet::getByName('Your File Set');
  $fl = new FileList();
  $fl-&gt;filterBySet($fs);
  $fl-&gt;sortBy('fsDisplayOrder', 'asc');
  $files = $fl-&gt;get();
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_18"><strong>ファイルを追加</strong></h4>
<div class="sect4">
<h5 id="_add_a_file">Add a File</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
    Loader::library("file/importer");
    $fi = new FileImporter();
    $newFile = $fi-&gt;import($pathToFile, $nameOfFile, $fileObject);
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_19"><strong>フォームからファイルの追加</strong></h4>
<div class="sect4">
<h5 id="_add_a_file_from_a_form">Add a File From a Form</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  // function in controller
  function action_file_upload()	{
    Loader::library("file/importer");
    $fi = new FileImporter();
    $newFile = $fi-&gt;import($_FILES['fileName']['tmp_name'],
    $_FILES['fileName']['name']);
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_20"><strong>ファイルセットにファイルを追加</strong></h4>
<div class="sect4">
<h5 id="_add_a_file_to_a_file_set">Add a File to a file Set</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  // when uploading with a form
  function action_file_upload()	{
    Loader::library("file/importer");
    $fi = new FileImporter();
    $newFile = $fi-&gt;import($_FILES['fileName']['tmp_name'],
    $_FILES['fileName']['name']);

    // add file to file set
    Loader::model('file_set');
    $fs = FileSet::createAndGetSet('FILE_SET_NAME', FileSet::TYPE_PUBLIC,
    $uID = false);
    $fsf = $fs-&gt;addFileToSet($newFile);
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_working_with_page_lists">Working With Page Lists</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_21"><strong>ページリストの開始</strong></h4>
<div class="sect4">
<h5 id="_initiating_a_page_list">Initiating a Page List</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">(in view.php)

&lt;?php
  $pl = Core::Make('PageList');

  $pl = new PageList();

    ... Filtering and Sorting Options ...

   // Get the page List Results
  $pages = $pl-&gt;get() Get all pages that match filter/sort criteria.
?&gt;

(in controller.php)

&lt;?php
namespace
use Concrete\Core\Page\PageList;

  $pl = new PageList();

    ... Filtering and Sorting Options ...

   // Get the page List Results
  $pages = $pl-&gt;get() Get all pages that match filter/sort criteria.
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__">* ページリストフィルタ/並べ替え*</h4>
<div class="sect4">
<h5 id="_page_list_filters_sorting">Page List Filters / Sorting</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
    // Available Filters
    $pl-&gt;ignorePermissions(); // Don't check the permissions of the logged-in user.
    $pl-&gt;ignoreAliases(); // Ignore aliased pages.
    $pl-&gt;includeSystemPages(); // Include system pages
    $pl-&gt;displayUnapprovedPages(); // Include pages that have not been approved.
    $pl-&gt;filterByKeywords($keywords); // Filters files by keywords.
    $pl-&gt;filterByName($name, $exact = false); // Filter page name.
    $pl-&gt;filterByPath($path, $includeAllChildren = true); // Filters pages by path, children true/false
    $pl-&gt;filterByParentID($cParentID); //Filters by the parent ID.
    $pl-&gt;filterByCollectionTypeID($ctID); //Displays pages of a certain page type.
    $pl-&gt;filterByUserID($userID); //Displays pages owned by a particular user ID.
    $pl-&gt;filterByIsApproved($isApproved); //Only display approved pages.
    $pl-&gt;filterByIsAlias($ia); //Filters by whether an item is an alias or not.
    $pl-&gt;filterByCollectionTypeHandle($ctHandle); //Filters by page type handles. $ctHandle can be array of page type handles.
    $pl-&gt;filterByDateAdded($date, $comparison = '='); //Filters by date the page was added. $comparison can be any MySQL comparison operator.
    $pl-&gt;filterByPublicDate($date, $comparison = '='); //Filters by public date. $comparison can be any MySQL comparison operator.
    $pl-&gt;filterByDateLastModified($date, $comparison = '='); //Filters by date the page was last modified. $comparison can be any MySQL comparison operator.
    $pl-&gt;filterByNumberOfChildren($number, $comparison = '='); //Filters by number of page children. $comparison can be any MySQL comparison operator.
    $pl-&gt;filterByAttribute($attributeKeyHandle, $value, $comparison); //Filters by attribute.
    $pl-&gt;filter($column, $value, $comparison); //Filter by MySql "WHERE" clause

    // Sorting Options
    $pl-&gt;sortByRelevance(); //Orders by index score descending. Only available when searching by keywords.
    $pl-&gt;sortByDisplayOrder(); //Orders by sitemap display order ascending.
    $pl-&gt;sortByDisplayOrderDescending(); // Orders by sitemap display order descending.
    $pl-&gt;sortByPublicDate(); //Orders by public date ascending.
    $pl-&gt;sortByPublicDateDescending(); //Orders by public date descending.
    $pl-&gt;sortByName(); //Orders by page name ascending.
    $pl-&gt;sortByNameDescending(); // Order by name descending
    $pl-&gt;sortBy('ATTRIBUTE_HANDLE'); // Order by a page attribute
  ?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="___2">* ページ一覧はコレクション型ハンドルに基づくゲット*</h4>
<div class="sect4">
<h5 id="_get_page_list_based_on_collection_type_handle">Get Page List based on Collection Type Handle</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $pl = new PageList();
  $pl-&gt;filterByCollectionTypeHandle('COLLECTION_HANDLE');
  $pl-&gt;sortByDisplayOrder('alpha_asc'); // Sort alphebetically

  $pages = $pl-&gt;getPage();

  // Display Page Name and Description
  foreach ($pages as $page){
    echo $page-&gt;getCollectionName();
    echo $page-&gt;getCollectionDescription();
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_22"><strong>テーマに埋め込むページリストブロック</strong></h4>
<div class="sect4">
<h5 id="_embed_page_list_block_in_theme">Embed Page List Block in Theme</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $bt = BlockType::getByHandle('page_list');

  //Set Options
  $bt-&gt;controller-&gt;orderBy = 'display_asc'; // 'display_asc', 'chrono_desc', 'chrono_asc', 'alpha_asc', 'alpha_desc'
  $bt-&gt;controller-&gt;ctID = ''; // Filter by Collection Page Type ID
  $bt-&gt;controller-&gt;displayFeaturedOnly = 'false'; // If Featured Page attribute 'true', 'false'
  $bt-&gt;controller-&gt;displayAliases = 'false'; // Display aliase pages 'true', 'false'
  $bt-&gt;controller-&gt;paginate = 'true'; // 'true', 'false'
  $bt-&gt;controller-&gt;cParentID = '6149'; // Display pages beneath this page ID
  $bt-&gt;controller-&gt;includeAllDescendents = 'true'; // 'true', 'false'
  $bt-&gt;controller-&gt;orderBy = 'display_asc'; // 'display_asc', 'chrono_desc', 'chrono_asc', 'alpha_asc', 'alpha_desc'
  $bt-&gt;controller-&gt;showrss = 'false'; // Display RSS feed 'true', 'false'
  $bt-&gt;controller-&gt;truncateSummaries = 'true'; // 'true', 'false'
  $bt-&gt;controller-&gt;truncateChars = '128'; // Truncate length if summaries 'true'
  $bt-&gt;controller-&gt;paginate = 'true'; // 'true', 'false'

  // Render the block
  $bt-&gt;render('view'); // for template 'templates/template_name'
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_23"><strong>再ソートページリストブロック$ページアレイ</strong></h4>
<div class="sect4">
<h5 id="_re_sort_page_list_block_pages_array">Re-Sort Page List Block $pages Array</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  // Re-sort in view.php by an end date page attribute
  usort($pages, create_function('$a, $b', 'return $a-&gt;getAttribute("end_date") &gt; $b-&gt;getAttribute("end_date");'));
?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_controllers">Controllers</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_24"><strong>単一ページコントローラ</strong></h4>
<div class="sect4">
<h5 id="_single_page_controllers">Single Page Controllers</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">Create single page file: applications/single_pages/test_page.php

Create a controller file: applications/controllers/test_page.php

Namespace and class for controller

&lt;?php
namespace Application\Controller\SinglePage;
use PageController;

class TestPage extends PageController
{

    // Add functions
    public function view()
    {
        // Whatever code you need for functions
        echo 'Hello World';
    }

}
?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_database">Database</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_25"><strong>データベースからデータをフェッチ</strong></h4>
<div class="sect4">
<h5 id="_fetch_data_from_database">Fetch Data From Database</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $db = Loader::db();

  $sql = "SELECT * FROM [table] WHERE [column1] = ? AND [column2] = ?";
  $vals = array('[value1]', '[value2]');
  $r = $db-&gt;Execute($sql, $vals);
  $row = $r-&gt;FetchRow();

  echo $row[column name];
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_26"><strong>アップデートデータベース</strong></h4>
<div class="sect4">
<h5 id="_update_database">Update Database</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $db = Loader::db();

  $sql = "UPDATE [table] SET [column] = ? WHERE bID = $this-&gt;bID";
  $vals = array('[value]');
  $update = $db-&gt;Execute($sql, $vals);
?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_helpers">Helpers</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_27"><strong>日付/時刻ヘルパー</strong></h4>
<div class="sect4">
<h5 id="_date_time_helper">Date/Time Helper</h5>

</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_28"><strong>ロード日付/時刻ヘルパー</strong></h4>
<div class="sect4">
<h5 id="_load_date_time_helper">Load Date/Time Helper</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
$date = Core::make('helper/date');
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_end_date_strong"><strong>ページ日付/時刻属性（END_DATE）で今日の日付を比較して、何かをする</strong></h4>
<div class="sect4">
<h5 id="_compare_today_s_date_with_a_pages_date_time_attribute_end_date_and_do_something">Compare Today&#8217;s Date With a Pages Date/Time Attribute (end_date) And Do Something</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">Using Date Helper to format ($mask=) display of date and time.

&lt;?php

  if($date-&gt;getSystemDateTime($c-&gt;getCollectionAttributeValue('end_date'), $mask = 'd-m-Y G:i') &gt; $date-&gt;getLocalDateTime('now',$mask = 'd-m-Y G:i')) {
    echo 'End date is greater than today';
  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_dd_mm_yyyy_12_strong"><strong>DD-MM-YYYY午後12時フォーマットでの表示日付/時刻。</strong></h4>
<div class="sect4">
<h5 id="_display_date_time_in_dd_mm_yyyy_00_00_format">Display Date/Time In dd-mm-yyyy 00:00 Format.</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $date = Loader::helper("date");  echo $date-&gt;getLocalDateTime('now',$mask = 'd-m-Y G:i')
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__mm_dd_yy_end_date">* MM / dd / yy形式での表示ページ属性」END_DATE」*</h4>
<div class="sect4">
<h5 id="_display_page_attribute_end_date_in_mm_dd_yy_format">Display Page Attribute "end_date" In mm/dd/yy Format</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  echo $date-&gt;getSystemDateTime($c-&gt;getCollectionAttributeValue('end_date'), $mask = 'm/d/y')
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_29"><strong>日付のページを取得最後に編集しました</strong></h4>
<div class="sect4">
<h5 id="_get_date_the_page_was_last_edited">Get Date The Page Was Last Edited</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  foreach($c-&gt;getBlocks('Main') as $b) {
    $bDate[$i] = $b-&gt;getBlockDateLastModified();
    $i ++;
  }

  rsort( $bDate );

  echo $date-&gt;getLocalDateTime($bDate[0],$mask = 'm-d-Y g:i:s');
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_end_date_strong_2"><strong>ページ属性」END_DATEが現在時刻よりも大きい場合には、何かをする</strong></h4>
<div class="sect4">
<h5 id="_if_page_attribute_end_date_is_greater_than_current_time_do_something">If Page Attribute "end_date Is Greater Than Current Time, Do Something.</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  if($date-&gt;getSystemDateTime($c-&gt;getCollectionAttributeValue('end_date'), $mask = 'd-m-Y G:i') &gt; $date-&gt;getLocalDateTime('now',$mask = 'd-m-Y G:i')) {

    [do something here]

  }
?&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_php_strong"><strong>マスクのPHPの日付書式</strong></h4>
<div class="sect4">
<h5 id="_php_date_formatting_for_mask">PHP Date Formatting For Mask</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">a 'am' or 'pm'
A 'AM' or 'PM'
B Swatch Internet time
d day of the month, 2 digits with leading zeros; i.e. '01' to '31'
D day of the week, textual, 3 letters; i.e. 'Fri'
F month, textual, long; i.e. 'January'
g hour, 12-hour format without leading zeros; i.e. '1' to '12'
G hour, 24-hour format without leading zeros; i.e. '0' to '23'
h hour, 12-hour format; i.e. '01' to '12'
H hour, 24-hour format; i.e. '00' to '23'
i minutes; i.e. '00' to '59'
I (capital i) '1' if Daylight Savings Time, '0' otherwise.
j day of the month without leading zeros; i.e. '1' to '31'
l (lowercase 'L') day of the week, textual, long; i.e. 'Friday'
L boolean for whether it is a leap year; i.e. '0' or '1'
m month; i.e. '01' to '12'
M month, textual, 3 letters; i.e. 'Jan'
n month without leading zeros; i.e. '1' to '12'
r RFC 822 formatted date; i.e. 'Thu, 21 Dec 2000 16:01:07 +0200' (added in PHP 4.0.4)
s seconds; i.e. '00' to '59'
S English ordinal suffix, textual, 2 characters; i.e. 'th', 'nd'
t number of days in the given month; i.e. '28' to '31'
T Timezone setting of this machine; i.e. 'MDT'
U seconds since the epoch
w day of the week, numeric, i.e. '0' (Sunday) to '6' (Saturday)
Y year, 4 digits; i.e. '1999'
y year, 2 digits; i.e. '99'
z day of the year; i.e. '0' to '365'
Z timezone offset in seconds (i.e. '-43200' to '43200'). The offset for timezones west of UTC is always negative, and for those east of UTC is always positive.</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_image_helper">Image Helper</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_30"><strong>イメージのロードヘルパー</strong></h4>
<div class="sect4">
<h5 id="_load_image_helper">Load Image Helper</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl"> (depricated)
----
&lt;?php
  $imageHelper = Core::make('helper/image');
?&gt;
----</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_31"><strong>ページ属性からの出力サムネイル</strong></h4>
<div class="sect4">
<h5 id="_output_thumbnail_from_page_attribute">Output Thumbnail from Page Attribute</h5>
<div class="listingblock">
<div class="content">
<pre>If image exists in Image/File Attribute "product_image", display the image scaled to 100px.

&lt;?php
  if($c-&gt;getAttribute('product_image')) {
    $imageHelper-&gt;outputThumbnail($c-&gt;getAttribute('product_image'),100 ,100);
  }
?&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_32"><strong>画像のヘルパーでサムネイル情報を取得</strong></h4>
<div class="sect4">
<h5 id="_get_thumbnail_info_with_image_helper">Get Thumbnail Info with Image Helper</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $file = File::getByID(id_number);
  $img = $imageHelper-&gt;getThumbnail($file, 100, 100);
?&gt;

    &lt;img src="&lt;?php echo $img-&gt;src; ?&gt;" width="&lt;?php echo $img-&gt;width; ?&gt;" height="&lt;?php echo $img-&gt;height; ?&gt;"&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_multilingual_helper">Multilingual Helper</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_33"><strong>多言語ヘルパーのロード</strong></h4>
<div class="sect4">
<h5 id="_load_multilingual_helper">Load Multilingual Helper</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
  $lh = Loader::helper('section', 'multilingual');
&lt;?</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_34"><strong>二つの言語コードを返します</strong></h4>
<div class="sect4">
<h5 id="_return_two_language_code">Return Two Language Code</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">&lt;?php
    $lh = Loader::helper('section', 'multilingual');
    echo $lh-&gt;getLanguage();
  ?&gt;</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_site_php">Site.php</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="__strong_strong_35"><strong>共通設定</strong></h4>
<div class="sect4">
<h5 id="_common_settings">Common Settings</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">Set advanced permissions on
  define('PERMISSIONS_MODEL', 'advanced');

Use APC Caching (you need APC installed)
  define('CACHE_LIBRARY', 'apc');

Disable Zend Cache Cleaning (may improve performance)
  define('CACHE_FRONTEND_OPTIONS',
  serialize(array('automatic_cleaning_factor' =&gt; 0)));

Set time to 24 hour format
  define('DATE_FORM_HELPER_FORMAT_HOUR', '24');

Date Formatting
  define('DATE_APP_GENERIC_MDYT_FULL', 'F d, Y \a\t g:i A');
  define('DATE_APP_GENERIC_MDYT', 'n/j/Y \a\t g:i A');
  define('DATE_APP_GENERIC_MDY', 'n/j/Y');
  define('DATE_APP_GENERIC_MDY_FULL', 'F d, Y');

Change minimum user name length from default value 3
  define('USER_USERNAME_MINIMUM', 3);

Change maximum username length from default value 64
  define('USER_USERNAME_MAXIMUM', 64);

Change minimum password length from default value 3
  define('USER_PASSWORD_MINIMUM', 5);

Change maximum password length from default value 64
  define('USER_PASSWORD_MAXIMUM', 64);

Change session time from default of 2 hours
  define('SESSION_MAX_LIFETIME', 7200); // 2 hours

Set registration email notification address
  define('EMAIL_ADDRESS_REGISTER_NOTIFICATION',
  'example@domain.com');

Set registration email notification from address
  define('EMAIL_ADDRESS_REGISTER_NOTIFICATION_FROM',
  'example@domain.com');</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__strong_strong_36"><strong>ホワイトラベルの設定</strong></h4>
<div class="sect4">
<h5 id="_white_label_configuration">White Label Configuration</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-perl" data-lang="perl">Disable concrete5 marketplace integration.
define('ENABLE_MARKETPLACE_SUPPORT', false);

Disable help searches in the intelligent search.
define('ENABLE_INTELLIGENT_SEARCH_HELP', false);

Disable marketplace add-ons appear in intelligent
search results.
define('ENABLE_INTELLIGENT_SEARCH_MARKETPLACE', false);

Disable newsflow
define('ENABLE_NEWSFLOW_OVERLAY', false);

Path to the logo image. This can also be a full URL.
This file should be 49x49 pixels.
define('WHITE_LABEL_LOGO_SRC', 'PATH TO FILE');

Alt text for the logo
define('WHITE_LABEL_APP_NAME', 'TEXT');

Disable Layouts.
define('ENABLE_AREA_LAYOUTS', false);

Disable Custom Design for blocks or areas.
define('ENABLE_CUSTOM_DESIGN', false);

Disable Newsflow connect to concrete5.org to retrieve
latest updates.
define('ENABLE_APP_NEWS', false);

Set to a valid image (either local or a remote URL), or none.
define('WHITE_LABEL_DASHBOARD_BACKGROUND_SRC', 'none');

Web address for today's Image
define('WHITE_LABEL_DASHBOARD_BACKGROUND_FEED', false);</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
    </section>

  </article>




            <footer class="footer">
                <span class="footer__copyright">&copy; 2015. All rights reserved.</span>
                <span class="footer__copyright"><a href="http://uno.daleanthony.com" title="link to page for Uno Ghost theme">Uno theme</a> by <a href="http://daleanthony.com" title="link to website for Dale-Anthony">Dale-Anthony</a></span>
                <span class="footer__copyright">Proudly published with <a href="http://hubpress.io" title="link to Hubpress website">Hubpress</a></span>
            </footer>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script>

    <script type="text/javascript" src="https://bluejam3.github.io/themes/uno/assets/js/main.js?v=1.0.0"></script>
    

</body>
</html>
